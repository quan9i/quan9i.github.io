{"title":"JAVAWeb 浅学笔记","uid":"1652a4b85d6c1ce935f814a6281e8e8f","slug":"JAVAWeb学习小记","date":"2022-11-13T16:54:30.000Z","updated":"2023-03-14T07:29:12.000Z","comments":true,"path":"api/articles/JAVAWeb学习小记.json","keywords":null,"cover":"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303141529297.png","content":"<h1 id=\"准备工作\"><a href=\"#准备工作\" class=\"headerlink\" title=\"准备工作\"></a>准备工作</h1><p>有IDEA，有Tomcat（去网上找一下tomcat官方网站，下载9版本的即可，10版本的可能因为与IDEA版本不适而发生各种报错），有Maven，Idea虽然自带有Maven，但其功能还是有些受限，最好还是去官网下载一下Maven到本地而后导入到IDEA中</p>\n<h1 id=\"Maven\"><a href=\"#Maven\" class=\"headerlink\" title=\"Maven\"></a>Maven</h1><p>Maven作用：导入多个jar包<br>下载后配置如下<br><img src=\"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303130156036.png\" alt=\"在这里插入图片描述\"><br>然后应用即可，接下来新建项目<br><img src=\"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303130156986.png\" alt=\"在这里插入图片描述\"><br>新建完成后为这个样子<br><img src=\"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303130156077.png\" alt=\"在这里插入图片描述\"><br>新建没有webapp的参考这篇文章即可<br><a href=\"https://blog.csdn.net/weixin_43621277/article/details/126071792\">https://blog.csdn.net/weixin_43621277/article/details/126071792</a><br>而后直接去配置一下tomcat，开启就可以看到helloworld了<br><img src=\"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303130156971.png\" alt=\"在这里插入图片描述\"><br>Maven项目简单配置完成。</p>\n<h1 id=\"Servlet\"><a href=\"#Servlet\" class=\"headerlink\" title=\"Servlet\"></a>Servlet</h1><p>作用：开发动态web技术(每个人请求得到内容不同)<br>新建的话你右键创一个就好了，随便命名，我这里命名为<code>test123</code><br>接下来应该是有一个<code>test123.iml</code>的，他里面可以配置依赖包<br>注：这里没有的话，在下面的终端处执行以下指令</p>\n<pre class=\"line-numbers language-php\" data-language=\"php\"><code class=\"language-php\">mvn idea<span class=\"token punctuation\">:</span>module <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>如果报错没有这个指令，那么说明你没配置环境变量，自己去百度一下mvn的环境变量配置，然后重启idea再执行命令即可<br>此时就去找对应servlet的依赖包<br>链接如下<br><a href=\"https://mvnrepository.com/artifact/javax.servlet.jsp/javax.servlet.jsp-api/2.3.3\">https://mvnrepository.com/artifact/javax.servlet.jsp/javax.servlet.jsp-api/2.3.3</a><br><img src=\"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303130156051.png\" alt=\"在这里插入图片描述\"><br>放至下面如果冒红，刷新一下即可，而后就会自动安装<br>接下来去修改父类的<code>web.xml</code>为最新版</p>\n<pre class=\"line-numbers language-php\" data-language=\"php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?</span>xml version<span class=\"token operator\">=</span><span class=\"token string double-quoted-string\">\"1.0\"</span> encoding<span class=\"token operator\">=</span><span class=\"token string double-quoted-string\">\"UTF-8\"</span><span class=\"token delimiter important\">?></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>web-app</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://xmlns.jcp.org/xml/ns/javaee<span class=\"token punctuation\">\"</span></span>\n         <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span>\n         <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>schemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://xmlns.jcp.org/xml/ns/javaee\n                         http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd<span class=\"token punctuation\">\"</span></span>\n         <span class=\"token attr-name\">version</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>4.0<span class=\"token punctuation\">\"</span></span>\n         <span class=\"token attr-name\">metadata-complete</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>web-app</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>然后此时去建子类，整一个maven项目</p>\n<p><img src=\"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303130156095.png\" alt=\"在这里插入图片描述\">即点击module新建一个maven项目，此时新建好的话需要添加两个文件夹分别是<code>java</code>和<code>resources</code><br><img src=\"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303130156529.png\" alt=\"在这里插入图片描述\"><br>接下来让他继承servelt接口，新建<br><img src=\"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303130156561.png\" alt=\"在这里插入图片描述\"><br>包名最好起的比较易理解一点，如<code>com.quan9i.servlet</code>，接下来去继承<code>Httpservlet</code>，同时改写一下GET方法和POST方法</p>\n<pre class=\"line-numbers language-php\" data-language=\"php\"><code class=\"language-php\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name-definition class-name\">HelloServlet</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">HttpServlet</span> <span class=\"token punctuation\">&#123;</span>\n    \n    <span class=\"token comment\">//由于get或者post只是请求实现的不同的方式，可以相互调用，业务逻辑都一样；</span>\n    @Override\n    <span class=\"token keyword\">protected</span> <span class=\"token keyword type-declaration\">void</span> <span class=\"token function\">doGet</span><span class=\"token punctuation\">(</span>HttpServletRequest req<span class=\"token punctuation\">,</span> HttpServletResponse resp<span class=\"token punctuation\">)</span> throws ServletException<span class=\"token punctuation\">,</span> IOException <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token comment\">//ServletOutputStream outputStream = resp.getOutputStream();</span>\n        PrintWriter writer <span class=\"token operator\">=</span> resp<span class=\"token operator\">.</span><span class=\"token function\">getWriter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//响应流</span>\n        writer<span class=\"token operator\">.</span><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string double-quoted-string\">\"Hello,Serlvet\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    @Override\n    <span class=\"token keyword\">protected</span> <span class=\"token keyword type-declaration\">void</span> <span class=\"token function\">doPost</span><span class=\"token punctuation\">(</span>HttpServletRequest req<span class=\"token punctuation\">,</span> HttpServletResponse resp<span class=\"token punctuation\">)</span> throws ServletException<span class=\"token punctuation\">,</span> IOException <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token function\">doGet</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">,</span> resp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>接下来就需要去访问了，但是在访问之前我们需要去写一下servlet的映射<br>为什么需要映射：</p>\n<pre class=\"line-numbers language-php\" data-language=\"php\"><code class=\"language-php\">我们写的是<span class=\"token constant\">JAVA</span>程序，但是要通过浏览器访问，而浏览器需要连接web服务器，所以我们需\n要再web服务中注册我们写的Servlet，还需给他一个浏览器能够访问的路径；<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>这个的话需要写在web.xml里，其内容更新后如下</p>\n<pre class=\"line-numbers language-php\" data-language=\"php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?</span>xml version<span class=\"token operator\">=</span><span class=\"token string double-quoted-string\">\"1.0\"</span> encoding<span class=\"token operator\">=</span><span class=\"token string double-quoted-string\">\"UTF-8\"</span><span class=\"token delimiter important\">?></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>web-app</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://xmlns.jcp.org/xml/ns/javaee<span class=\"token punctuation\">\"</span></span>\n         <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span>\n         <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>schemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://xmlns.jcp.org/xml/ns/javaee\n                         http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd<span class=\"token punctuation\">\"</span></span>\n         <span class=\"token attr-name\">version</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>4.0<span class=\"token punctuation\">\"</span></span>\n         <span class=\"token attr-name\">metadata-complete</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token comment\">&lt;!--注册Servlet--></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>servlet</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>servlet-name</span><span class=\"token punctuation\">></span></span>hello<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>servlet-name</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>servlet-class</span><span class=\"token punctuation\">></span></span>com.quan9i.servlet.Helloservlet<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>servlet-class</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>servlet</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token comment\">&lt;!--servlet的请求路径--></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>servlet-mapping</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>servlet-name</span><span class=\"token punctuation\">></span></span>hello<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>servlet-name</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>url-pattern</span><span class=\"token punctuation\">></span></span>/hello<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>url-pattern</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>servlet-mapping</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>web-app</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>接下来配置tomcat<br><img src=\"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303130156594.png\" alt=\"在这里插入图片描述\"><br><img src=\"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303130156626.png\" alt=\"在这里插入图片描述\"><br>接下来直接运行即可<img src=\"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303130156711.png\" alt=\"在这里插入图片描述\"><br>成功访问到界面<br><img src=\"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303130156663.png\" alt=\"在这里插入图片描述\"><br>然后我们此时去访问<code>hello</code>路径，刚刚配置的<code>web.xml</code>中配置有这个，那么它就会调用对应的方法，我们在方法中重写了GET，此时就会对应那个重写的get方法，即输出<code>Hello,Serlvet</code><br><img src=\"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303130156079.png\" alt=\"在这里插入图片描述\"></p>\n<h2 id=\"Servlet原理\"><a href=\"#Servlet原理\" class=\"headerlink\" title=\"Servlet原理\"></a>Servlet原理</h2><p>简单的说，浏览器向Web容器请求Servlet，Web容器获取Servlet的响应，而我们可以控制的就是中间，即写Servlet，控制响应内容，还有就是这里的Web容器是Tomcat。<br>图解如下<br><img src=\"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303130156130.png\" alt=\"在这里插入图片描述\"></p>\n<h2 id=\"Mapping问题\"><a href=\"#Mapping问题\" class=\"headerlink\" title=\"Mapping问题\"></a>Mapping问题</h2><p>一个Servlet指定单个映射路径</p>\n<pre class=\"line-numbers language-php\" data-language=\"php\"><code class=\"language-php\"><span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>hello<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span><span class=\"token operator\">/</span>hello<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<p>一个Servlet指定多个</p>\n<pre class=\"line-numbers language-php\" data-language=\"php\"><code class=\"language-php\"><span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>hello<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span><span class=\"token operator\">/</span>hello<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>hello<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span><span class=\"token operator\">/</span>hello2<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>hello<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span><span class=\"token operator\">/</span>hello3<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>hello<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span><span class=\"token operator\">/</span>hello4<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>hello<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span><span class=\"token operator\">/</span>hello5<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span>\n <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>一个Servlet指定通用</p>\n<pre class=\"line-numbers language-php\" data-language=\"php\"><code class=\"language-php\"><span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>hello<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span><span class=\"token operator\">/</span>hello<span class=\"token operator\">/</span><span class=\"token operator\">*</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<p>默认请求路径</p>\n<pre class=\"line-numbers language-php\" data-language=\"php\"><code class=\"language-php\"><span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span>默认请求路径<span class=\"token operator\">--</span><span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>hello<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span><span class=\"token operator\">/</span><span class=\"token operator\">*</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>指定后缀</p>\n<pre class=\"line-numbers language-php\" data-language=\"php\"><code class=\"language-php\"><span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span>默认请求路径<span class=\"token operator\">--</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>hello<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span><span class=\"token operator\">*</span><span class=\"token operator\">.</span>quan9i<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span>  <span class=\"token comment\">//注：此时前面是不能加通配符的</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>优先级问题</p>\n<pre class=\"line-numbers language-php\" data-language=\"php\"><code class=\"language-php\"><span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>hello<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span><span class=\"token operator\">/</span>hello<span class=\"token operator\">/</span><span class=\"token operator\">*</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span><span class=\"token number\">404</span><span class=\"token operator\">--</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>error<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span><span class=\"token keyword\">class</span><span class=\"token operator\">></span>com<span class=\"token operator\">.</span>kuang<span class=\"token operator\">.</span>servlet<span class=\"token operator\">.</span>ErrorServlet<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span><span class=\"token keyword\">class</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>error<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span><span class=\"token operator\">/</span><span class=\"token operator\">*</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span>\n  <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>当同时存在通配符和固定映射路径时，固定映射路径优先级是高于通配符的</p>\n<h2 id=\"ServletContext\"><a href=\"#ServletContext\" class=\"headerlink\" title=\"ServletContext\"></a>ServletContext</h2><h3 id=\"共享数据\"><a href=\"#共享数据\" class=\"headerlink\" title=\"共享数据\"></a>共享数据</h3><pre class=\"line-numbers language-php\" data-language=\"php\"><code class=\"language-php\"># read.java\npublic class read extends HttpServlet &#123;\n        protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException, IOException &#123;\n            ServletContext context = this.getServletContext();\n            String username = (String) context.getAttribute(\"username\");\n\n            resp.setContentType(\"text/html\");\n            resp.setCharacterEncoding(\"utf-8\");\n            resp.getWriter().print(\"名字\"+username);\n\n        &#125;\n        protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;\n            doGet(req, resp);\n        &#125;\n&#125;\n\n\n#HelloServlet.java\npublic class HelloServlet extends HttpServlet &#123;\n\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException &#123;\n        //this.getInitParameter()   初始化参数\n        //this.getServletConfig()   Servlet配置\n        //this.getServletContext()  Servlet上下文\n        ServletContext context = this.getServletContext();\n        String username = \"秦疆\"; //数据\n        context.setAttribute(\"username\",username); //将一个数据保存在了ServletContext中，名字为：username 。值 username\n    &#125;\n&#125;\n\n#web.xml\n<span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?</span>xml version<span class=\"token operator\">=</span><span class=\"token string double-quoted-string\">\"1.0\"</span> encoding<span class=\"token operator\">=</span><span class=\"token string double-quoted-string\">\"UTF-8\"</span><span class=\"token delimiter important\">?></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>web-app</span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://xmlns.jcp.org/xml/ns/javaee<span class=\"token punctuation\">\"</span></span>\n         <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span>\n         <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>schemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://xmlns.jcp.org/xml/ns/javaee\n                         http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd<span class=\"token punctuation\">\"</span></span>\n         <span class=\"token attr-name\">version</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>4.0<span class=\"token punctuation\">\"</span></span>\n         <span class=\"token attr-name\">metadata-complete</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token comment\">&lt;!--注册Servlet--></span>\n    <span class=\"token comment\">&lt;!--注册Servlet--></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>servlet</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>servlet-name</span><span class=\"token punctuation\">></span></span>hello<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>servlet-name</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>servlet-class</span><span class=\"token punctuation\">></span></span>com.quan9i.servlet.servlet.read<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>servlet-class</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>servlet</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token comment\">&lt;!--servlet的请求路径--></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>servlet-mapping</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>servlet-name</span><span class=\"token punctuation\">></span></span>hello<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>servlet-name</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>url-pattern</span><span class=\"token punctuation\">></span></span>/hello<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>url-pattern</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>servlet-mapping</span><span class=\"token punctuation\">></span></span>\n\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>servlet</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>servlet-name</span><span class=\"token punctuation\">></span></span>write<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>servlet-name</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>servlet-class</span><span class=\"token punctuation\">></span></span>com.quan9i.servlet.servlet.HelloServlet<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>servlet-class</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>servlet</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token comment\">&lt;!--servlet的请求路径--></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>servlet-mapping</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>servlet-name</span><span class=\"token punctuation\">></span></span>write<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>servlet-name</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>url-pattern</span><span class=\"token punctuation\">></span></span>/write<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>url-pattern</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>servlet-mapping</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>web-app</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>先访问<code>write</code>，写入值，得到结果为<br><img src=\"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303130156173.png\" alt=\"在这里插入图片描述\"><br>再去访问hello<img src=\"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303130156202.png\" alt=\"在这里插入图片描述\"></p>\n<h3 id=\"获取初始化参数\"><a href=\"#获取初始化参数\" class=\"headerlink\" title=\"获取初始化参数\"></a>获取初始化参数</h3><p>可以写一些初始化参数在web.xml中，然后我们用这个方法去获取</p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">#web<span class=\"token punctuation\">.</span>xml\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">?</span>xml version<span class=\"token operator\">=</span><span class=\"token string\">\"1.0\"</span> encoding<span class=\"token operator\">=</span><span class=\"token string\">\"UTF-8\"</span><span class=\"token operator\">?</span><span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>web<span class=\"token operator\">-</span>app xmlns<span class=\"token operator\">=</span><span class=\"token string\">\"http://xmlns.jcp.org/xml/ns/javaee\"</span>\n         xmlns<span class=\"token operator\">:</span>xsi<span class=\"token operator\">=</span><span class=\"token string\">\"http://www.w3.org/2001/XMLSchema-instance\"</span>\n         xsi<span class=\"token operator\">:</span>schemaLocation<span class=\"token operator\">=</span>\"http<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>xmlns<span class=\"token punctuation\">.</span>jcp<span class=\"token punctuation\">.</span>org<span class=\"token operator\">/</span>xml<span class=\"token operator\">/</span>ns<span class=\"token operator\">/</span>javaee\n                         http<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>xmlns<span class=\"token punctuation\">.</span>jcp<span class=\"token punctuation\">.</span>org<span class=\"token operator\">/</span>xml<span class=\"token operator\">/</span>ns<span class=\"token operator\">/</span>javaee<span class=\"token operator\">/</span>web<span class=\"token operator\">-</span>app_4_0<span class=\"token punctuation\">.</span>xsd\"\n         version<span class=\"token operator\">=</span><span class=\"token string\">\"4.0\"</span>\n         metadata<span class=\"token operator\">-</span>complete<span class=\"token operator\">=</span><span class=\"token string\">\"true\"</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span>配置一些web应用初始化参数<span class=\"token operator\">--</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>context<span class=\"token operator\">-</span>param<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>param<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>url<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>param<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>param<span class=\"token operator\">-</span>value<span class=\"token operator\">></span>jdbc<span class=\"token operator\">:</span>mysql<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>localhost<span class=\"token operator\">:</span><span class=\"token number\">3306</span><span class=\"token operator\">/</span>mybatis<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>param<span class=\"token operator\">-</span>value<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>context<span class=\"token operator\">-</span>param<span class=\"token operator\">></span>\n\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span>注册<span class=\"token class-name\">Servlet</span><span class=\"token operator\">--</span><span class=\"token operator\">></span>\n    <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>servlet<span class=\"token punctuation\">></span></span>\n        <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>hello<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span><span class=\"token keyword\">class</span><span class=\"token operator\">></span>com<span class=\"token punctuation\">.</span>quan9i<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span>read<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span><span class=\"token keyword\">class</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span>servlet的请求路径<span class=\"token operator\">--</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>hello<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span><span class=\"token operator\">/</span>hello<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>web<span class=\"token operator\">-</span>app<span class=\"token operator\">></span>\n\n#read<span class=\"token punctuation\">.</span>java\n<span class=\"token keyword\">package</span> <span class=\"token namespace\">com<span class=\"token punctuation\">.</span>quan9i<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span>servlet</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">javax<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ServletContext</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">javax<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">ServletException</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">javax<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span>http<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">HttpServlet</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">javax<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span>http<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">HttpServletRequest</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">javax<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span>http<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">HttpServletResponse</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">IOException</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> read <span class=\"token keyword\">extends</span> <span class=\"token class-name\">HttpServlet</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">protected</span> <span class=\"token keyword\">void</span> <span class=\"token function\">doGet</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> req<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpServletResponse</span> resp<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ServletException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">IOException</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token class-name\">ServletContext</span> context <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getServletContext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">String</span> url <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">getInitParameter</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"url\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        resp<span class=\"token punctuation\">.</span><span class=\"token function\">getWriter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token keyword\">protected</span> <span class=\"token keyword\">void</span> <span class=\"token function\">doPost</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> req<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpServletResponse</span> resp<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ServletException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">IOException</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token function\">doGet</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">,</span> resp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>访问<code>Hello</code><br><img src=\"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303130156273.png\" alt=\"在这里插入图片描述\"></p>\n<h3 id=\"请求转发\"><a href=\"#请求转发\" class=\"headerlink\" title=\"请求转发\"></a>请求转发</h3><p><code>getRequestDispatcher</code>函数可以实现请求转发，即将某一路径下的内容在另一路径下同样可以请求到，与重定向是不同的</p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\"># test<span class=\"token punctuation\">.</span>java\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> test <span class=\"token keyword\">extends</span> <span class=\"token class-name\">HttpServlet</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">protected</span> <span class=\"token keyword\">void</span> <span class=\"token function\">doGet</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> req<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpServletResponse</span> resp<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ServletException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">IOException</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token class-name\">ServletContext</span> context <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getServletContext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"进入了test\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">//RequestDispatcher requestDispatcher = context.getRequestDispatcher(\"/gp\"); //转发的请求路径</span>\n        <span class=\"token comment\">//requestDispatcher.forward(req,resp); //调用forward实现请求转发；</span>\n        context<span class=\"token punctuation\">.</span><span class=\"token function\">getRequestDispatcher</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/hello\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forward</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">,</span>resp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token punctuation\">&#125;</span>\n\n# web<span class=\"token punctuation\">.</span>xml\n\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">?</span>xml version<span class=\"token operator\">=</span><span class=\"token string\">\"1.0\"</span> encoding<span class=\"token operator\">=</span><span class=\"token string\">\"UTF-8\"</span><span class=\"token operator\">?</span><span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>web<span class=\"token operator\">-</span>app xmlns<span class=\"token operator\">=</span><span class=\"token string\">\"http://xmlns.jcp.org/xml/ns/javaee\"</span>\n         xmlns<span class=\"token operator\">:</span>xsi<span class=\"token operator\">=</span><span class=\"token string\">\"http://www.w3.org/2001/XMLSchema-instance\"</span>\n         xsi<span class=\"token operator\">:</span>schemaLocation<span class=\"token operator\">=</span>\"http<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>xmlns<span class=\"token punctuation\">.</span>jcp<span class=\"token punctuation\">.</span>org<span class=\"token operator\">/</span>xml<span class=\"token operator\">/</span>ns<span class=\"token operator\">/</span>javaee\n                         http<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>xmlns<span class=\"token punctuation\">.</span>jcp<span class=\"token punctuation\">.</span>org<span class=\"token operator\">/</span>xml<span class=\"token operator\">/</span>ns<span class=\"token operator\">/</span>javaee<span class=\"token operator\">/</span>web<span class=\"token operator\">-</span>app_4_0<span class=\"token punctuation\">.</span>xsd\"\n         version<span class=\"token operator\">=</span><span class=\"token string\">\"4.0\"</span>\n         metadata<span class=\"token operator\">-</span>complete<span class=\"token operator\">=</span><span class=\"token string\">\"true\"</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span>配置一些web应用初始化参数<span class=\"token operator\">--</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>context<span class=\"token operator\">-</span>param<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>param<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>url<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>param<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>param<span class=\"token operator\">-</span>value<span class=\"token operator\">></span>jdbc<span class=\"token operator\">:</span>mysql<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>localhost<span class=\"token operator\">:</span><span class=\"token number\">3306</span><span class=\"token operator\">/</span>mybatis<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>param<span class=\"token operator\">-</span>value<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>context<span class=\"token operator\">-</span>param<span class=\"token operator\">></span>\n\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span>注册<span class=\"token class-name\">Servlet</span><span class=\"token operator\">--</span><span class=\"token operator\">></span>\n    <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>servlet<span class=\"token punctuation\">></span></span>\n        <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>hello<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span><span class=\"token keyword\">class</span><span class=\"token operator\">></span>com<span class=\"token punctuation\">.</span>quan9i<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span>read<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span><span class=\"token keyword\">class</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span>servlet的请求路径<span class=\"token operator\">--</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>hello<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span><span class=\"token operator\">/</span>hello<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span>\n\n    <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>servlet<span class=\"token punctuation\">></span></span>\n        <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>test<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span><span class=\"token keyword\">class</span><span class=\"token operator\">></span>com<span class=\"token punctuation\">.</span>quan9i<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span>test<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span><span class=\"token keyword\">class</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span>servlet的请求路径<span class=\"token operator\">--</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>test<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span><span class=\"token operator\">/</span>test<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>web<span class=\"token operator\">-</span>app<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>访问test<br><img src=\"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303130156318.png\" alt=\"在这里插入图片描述\"><br>请求转发与重定向图解如下<br><img src=\"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303130156589.png\" alt=\"在这里插入图片描述\"></p>\n<h2 id=\"读取资源文件\"><a href=\"#读取资源文件\" class=\"headerlink\" title=\"读取资源文件\"></a>读取资源文件</h2><p>在resources中新建配置文件<code>db.properties</code>，写入内容后启动tomcat，可以发现它的WEB路径是</p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">WEB<span class=\"token operator\">-</span>INF<span class=\"token operator\">-</span>classes<span class=\"token operator\">-</span>db<span class=\"token punctuation\">.</span>properties<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p><img src=\"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303130156703.png\" alt=\"在这里插入图片描述\"><br>接下来就可以写一个java文件，读取文件内容，转换为字节流，然后再新建一个对象用反序列化读取内容，就可以获取到配置文件了</p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">#<span class=\"token class-name\">Servletdemo1</span><span class=\"token punctuation\">.</span>java\n\n   <span class=\"token keyword\">protected</span> <span class=\"token keyword\">void</span> <span class=\"token function\">doGet</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> req<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpServletResponse</span> resp<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ServletException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">IOException</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token class-name\">InputStream</span> is <span class=\"token operator\">=</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getServletContext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getResourceAsStream</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/WEB-INF/classes/aa.properties\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">Properties</span> prep <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Properties</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        prep<span class=\"token punctuation\">.</span><span class=\"token function\">load</span><span class=\"token punctuation\">(</span>is<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">String</span> user <span class=\"token operator\">=</span> prep<span class=\"token punctuation\">.</span><span class=\"token function\">getProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"username\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">String</span> pwd <span class=\"token operator\">=</span> prep<span class=\"token punctuation\">.</span><span class=\"token function\">getProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"password\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        resp<span class=\"token punctuation\">.</span><span class=\"token function\">getWriter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span>user<span class=\"token operator\">+</span><span class=\"token string\">\":\"</span><span class=\"token operator\">+</span>pwd<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">protected</span> <span class=\"token keyword\">void</span> <span class=\"token function\">doPost</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> req<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpServletResponse</span> resp<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ServletException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">IOException</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token function\">doGet</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">,</span> resp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n    \n#web<span class=\"token punctuation\">.</span>xml\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">?</span>xml version<span class=\"token operator\">=</span><span class=\"token string\">\"1.0\"</span> encoding<span class=\"token operator\">=</span><span class=\"token string\">\"UTF-8\"</span><span class=\"token operator\">?</span><span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>web<span class=\"token operator\">-</span>app xmlns<span class=\"token operator\">=</span><span class=\"token string\">\"http://xmlns.jcp.org/xml/ns/javaee\"</span>\n         xmlns<span class=\"token operator\">:</span>xsi<span class=\"token operator\">=</span><span class=\"token string\">\"http://www.w3.org/2001/XMLSchema-instance\"</span>\n         xsi<span class=\"token operator\">:</span>schemaLocation<span class=\"token operator\">=</span>\"http<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>xmlns<span class=\"token punctuation\">.</span>jcp<span class=\"token punctuation\">.</span>org<span class=\"token operator\">/</span>xml<span class=\"token operator\">/</span>ns<span class=\"token operator\">/</span>javaee\n                         http<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>xmlns<span class=\"token punctuation\">.</span>jcp<span class=\"token punctuation\">.</span>org<span class=\"token operator\">/</span>xml<span class=\"token operator\">/</span>ns<span class=\"token operator\">/</span>javaee<span class=\"token operator\">/</span>web<span class=\"token operator\">-</span>app_4_0<span class=\"token punctuation\">.</span>xsd\"\n         version<span class=\"token operator\">=</span><span class=\"token string\">\"4.0\"</span>\n         metadata<span class=\"token operator\">-</span>complete<span class=\"token operator\">=</span><span class=\"token string\">\"true\"</span><span class=\"token operator\">></span>\n\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span>注册<span class=\"token class-name\">Servlet</span><span class=\"token operator\">--</span><span class=\"token operator\">></span>\n    <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>servlet<span class=\"token punctuation\">></span></span>\n        <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>sd1<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span><span class=\"token keyword\">class</span><span class=\"token operator\">></span><span class=\"token class-name\"><span class=\"token namespace\">com<span class=\"token punctuation\">.</span>quan9i<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span></span>Servletdemo1</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span><span class=\"token keyword\">class</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span>servlet的请求路径<span class=\"token operator\">--</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>sd1<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span><span class=\"token operator\">/</span>sd1<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>web<span class=\"token operator\">-</span>app<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303130156727.png\" alt=\"在这里插入图片描述\"><br>而当在java那个文件夹下放置配置文件时，有时候会出现报错，这是因为<code>约定大于配置</code><br>然后新建的话build一下应该也是可以生成的，但是我这里没生成，就不访问了，以后再看这个。<br><img src=\"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303130156787.png\" alt=\"在这里插入图片描述\"></p>\n<h1 id=\"Response\"><a href=\"#Response\" class=\"headerlink\" title=\"Response\"></a>Response</h1><h2 id=\"下载文件\"><a href=\"#下载文件\" class=\"headerlink\" title=\"下载文件\"></a>下载文件</h2><p>过程实现分为以下几步</p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\"><span class=\"token number\">1</span>、要获取下载文件的路径\n<span class=\"token number\">2</span>、下载的文件名是啥？\n<span class=\"token number\">3</span>、设置想办法让浏览器能够支持下载我们需要的东西\n<span class=\"token number\">4</span>、获取下载文件的输入流\n<span class=\"token number\">5</span>、创建缓冲区\n<span class=\"token number\">6</span>、获取<span class=\"token class-name\">OutputStream</span>对象\n<span class=\"token number\">7</span>、将<span class=\"token class-name\">FileOutputStream</span>流写入到bufer缓冲区\n<span class=\"token number\">8</span>、使用<span class=\"token class-name\">OutputStream</span>将缓冲区中的数据输出到客户端！<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>实现代码如下</p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\"># servlet<span class=\"token punctuation\">.</span>java\n    <span class=\"token keyword\">protected</span> <span class=\"token keyword\">void</span> <span class=\"token function\">doGet</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> req<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpServletResponse</span> resp<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ServletException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">IOException</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token comment\">// 1. 要获取下载文件的路径</span>\n        <span class=\"token class-name\">String</span> realPath <span class=\"token operator\">=</span> <span class=\"token string\">\"D:\\\\QQ\\\\保存的消息\\\\4.jpg\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"下载文件的路径：\"</span><span class=\"token operator\">+</span>realPath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// 2. 下载的文件名是啥？</span>\n        <span class=\"token class-name\">String</span> fileName <span class=\"token operator\">=</span> realPath<span class=\"token punctuation\">.</span><span class=\"token function\">substring</span><span class=\"token punctuation\">(</span>realPath<span class=\"token punctuation\">.</span><span class=\"token function\">lastIndexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\\\\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// 3. 设置想办法让浏览器能够支持(Content-Disposition)下载我们需要的东西,中文文件名URLEncoder.encode编码，否则有可能乱码</span>\n        resp<span class=\"token punctuation\">.</span><span class=\"token function\">setHeader</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Content-Disposition\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"attachment;filename=\"</span><span class=\"token operator\">+</span> <span class=\"token class-name\">URLEncoder</span><span class=\"token punctuation\">.</span><span class=\"token function\">encode</span><span class=\"token punctuation\">(</span>fileName<span class=\"token punctuation\">,</span><span class=\"token string\">\"UTF-8\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// 4. 获取下载文件的输入流</span>\n        <span class=\"token class-name\">FileInputStream</span> in <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FileInputStream</span><span class=\"token punctuation\">(</span>realPath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// 5. 创建缓冲区</span>\n        <span class=\"token keyword\">int</span> len <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">byte</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> buffer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token keyword\">byte</span><span class=\"token punctuation\">[</span><span class=\"token number\">1024</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// 6. 获取OutputStream对象</span>\n        <span class=\"token class-name\">ServletOutputStream</span> out <span class=\"token operator\">=</span> resp<span class=\"token punctuation\">.</span><span class=\"token function\">getOutputStream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// 7. 将FileOutputStream流写入到buffer缓冲区,使用OutputStream将缓冲区中的数据输出到客户端！</span>\n        <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>len<span class=\"token operator\">=</span>in<span class=\"token punctuation\">.</span><span class=\"token function\">read</span><span class=\"token punctuation\">(</span>buffer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n            out<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>buffer<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span>len<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span>\n\n        in<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        out<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n#web<span class=\"token punctuation\">.</span>xml\n\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">?</span>xml version<span class=\"token operator\">=</span><span class=\"token string\">\"1.0\"</span> encoding<span class=\"token operator\">=</span><span class=\"token string\">\"UTF-8\"</span><span class=\"token operator\">?</span><span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>web<span class=\"token operator\">-</span>app xmlns<span class=\"token operator\">=</span><span class=\"token string\">\"http://xmlns.jcp.org/xml/ns/javaee\"</span>\n         xmlns<span class=\"token operator\">:</span>xsi<span class=\"token operator\">=</span><span class=\"token string\">\"http://www.w3.org/2001/XMLSchema-instance\"</span>\n         xsi<span class=\"token operator\">:</span>schemaLocation<span class=\"token operator\">=</span>\"http<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>xmlns<span class=\"token punctuation\">.</span>jcp<span class=\"token punctuation\">.</span>org<span class=\"token operator\">/</span>xml<span class=\"token operator\">/</span>ns<span class=\"token operator\">/</span>javaee\nhttp<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>xmlns<span class=\"token punctuation\">.</span>jcp<span class=\"token punctuation\">.</span>org<span class=\"token operator\">/</span>xml<span class=\"token operator\">/</span>ns<span class=\"token operator\">/</span>javaee<span class=\"token operator\">/</span>web<span class=\"token operator\">-</span>app_4_0<span class=\"token punctuation\">.</span>xsd\"\n         version<span class=\"token operator\">=</span><span class=\"token string\">\"4.0\"</span>\n         metadata<span class=\"token operator\">-</span>complete<span class=\"token operator\">=</span><span class=\"token string\">\"true\"</span><span class=\"token operator\">></span>\n    <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>servlet<span class=\"token punctuation\">></span></span>\n        <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>down<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span><span class=\"token keyword\">class</span><span class=\"token operator\">></span>com<span class=\"token punctuation\">.</span>quan9i<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span>servlet<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span><span class=\"token keyword\">class</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span>servlet的请求路径<span class=\"token operator\">--</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>down<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span><span class=\"token operator\">/</span>down<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>web<span class=\"token operator\">-</span>app<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>接下来访问可能404，这是因为tomcat配置的没修改，我们需要去修改tomcat的<code>Deployment</code>为当前这个路径，然后再随便写一下根目录即可<br><img src=\"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303130156852.png\" alt=\"在这里插入图片描述\"><br>访问<code>down</code>，获取到下载文件<br><img src=\"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303130156930.png\" alt=\"在这里插入图片描述\"></p>\n<h2 id=\"验证码\"><a href=\"#验证码\" class=\"headerlink\" title=\"验证码\"></a>验证码</h2><p>前端实现<br>后端实现，需要用到Java的图片类，生产一个图片</p>\n<p>步骤分为以下几步</p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\"><span class=\"token number\">1</span>、设置图片，设置背景颜色\n<span class=\"token number\">2</span>、设置字体颜色，设置随机数函数，将随机数函数画入图片\n<span class=\"token number\">3</span>、清空缓存，设置每三秒刷新一次，设置字体<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p>代码实现</p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">#imageservlet<span class=\"token punctuation\">.</span>java\n    <span class=\"token keyword\">protected</span> <span class=\"token keyword\">void</span> <span class=\"token function\">doGet</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> req<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpServletResponse</span> resp<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ServletException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">IOException</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token comment\">//让浏览器每3秒刷新一次</span>\n        resp<span class=\"token punctuation\">.</span><span class=\"token function\">setHeader</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"refresh\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"3\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">//在内存中创建一个图片</span>\n        <span class=\"token class-name\">BufferedImage</span> bufferedImage <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">BufferedImage</span><span class=\"token punctuation\">(</span><span class=\"token number\">80</span><span class=\"token punctuation\">,</span><span class=\"token number\">80</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">BufferedImage</span><span class=\"token punctuation\">.</span>TYPE_INT_RGB<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">//得到图片</span>\n        <span class=\"token class-name\">Graphics2D</span> g <span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Graphics2D</span><span class=\"token punctuation\">)</span> bufferedImage<span class=\"token punctuation\">.</span><span class=\"token function\">getGraphics</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">//设置图片背景颜色</span>\n        g<span class=\"token punctuation\">.</span><span class=\"token function\">setColor</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Color</span><span class=\"token punctuation\">.</span>white<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">//给图片写数据</span>\n        g<span class=\"token punctuation\">.</span><span class=\"token function\">fillRect</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">80</span><span class=\"token punctuation\">,</span><span class=\"token number\">80</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        g<span class=\"token punctuation\">.</span><span class=\"token function\">setColor</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Color</span><span class=\"token punctuation\">.</span>blue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        g<span class=\"token punctuation\">.</span><span class=\"token function\">setFont</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Font</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token class-name\">Font</span><span class=\"token punctuation\">.</span>BOLD<span class=\"token punctuation\">,</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        g<span class=\"token punctuation\">.</span><span class=\"token function\">drawString</span><span class=\"token punctuation\">(</span><span class=\"token function\">makeNum</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">//告诉浏览器以图片形式打开</span>\n        resp<span class=\"token punctuation\">.</span><span class=\"token function\">setContentType</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"image/jpeg\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">//禁止浏览器缓存</span>\n        resp<span class=\"token punctuation\">.</span><span class=\"token function\">setDateHeader</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"expires\"</span><span class=\"token punctuation\">,</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        resp<span class=\"token punctuation\">.</span><span class=\"token function\">setHeader</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Cache-Control\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"no-Cache\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        resp<span class=\"token punctuation\">.</span><span class=\"token function\">setHeader</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Pragma\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"no-Cache\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">//把图片写给浏览器</span>\n        <span class=\"token class-name\">ImageIO</span><span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>bufferedImage<span class=\"token punctuation\">,</span><span class=\"token string\">\"jpeg\"</span><span class=\"token punctuation\">,</span>resp<span class=\"token punctuation\">.</span><span class=\"token function\">getOutputStream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token comment\">//生成随机数</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> <span class=\"token function\">makeNum</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n        <span class=\"token class-name\">Random</span> random <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">String</span> num <span class=\"token operator\">=</span> random<span class=\"token punctuation\">.</span><span class=\"token function\">nextInt</span><span class=\"token punctuation\">(</span><span class=\"token number\">999999</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">StringBuffer</span> sb <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">StringBuffer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">&lt;</span><span class=\"token number\">7</span><span class=\"token operator\">-</span>num<span class=\"token punctuation\">.</span><span class=\"token function\">length</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n            sb<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"0\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span>\n        num <span class=\"token operator\">=</span> sb<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span>num<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> num<span class=\"token punctuation\">;</span>\n\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">protected</span> <span class=\"token keyword\">void</span> <span class=\"token function\">doPost</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> req<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpServletResponse</span> resp<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ServletException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">IOException</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token function\">doGet</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">,</span> resp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n#web<span class=\"token punctuation\">.</span>xml\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">?</span>xml version<span class=\"token operator\">=</span><span class=\"token string\">\"1.0\"</span> encoding<span class=\"token operator\">=</span><span class=\"token string\">\"UTF-8\"</span><span class=\"token operator\">?</span><span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>web<span class=\"token operator\">-</span>app xmlns<span class=\"token operator\">=</span><span class=\"token string\">\"http://xmlns.jcp.org/xml/ns/javaee\"</span>\n         xmlns<span class=\"token operator\">:</span>xsi<span class=\"token operator\">=</span><span class=\"token string\">\"http://www.w3.org/2001/XMLSchema-instance\"</span>\n         xsi<span class=\"token operator\">:</span>schemaLocation<span class=\"token operator\">=</span>\"http<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>xmlns<span class=\"token punctuation\">.</span>jcp<span class=\"token punctuation\">.</span>org<span class=\"token operator\">/</span>xml<span class=\"token operator\">/</span>ns<span class=\"token operator\">/</span>javaee\nhttp<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>xmlns<span class=\"token punctuation\">.</span>jcp<span class=\"token punctuation\">.</span>org<span class=\"token operator\">/</span>xml<span class=\"token operator\">/</span>ns<span class=\"token operator\">/</span>javaee<span class=\"token operator\">/</span>web<span class=\"token operator\">-</span>app_4_0<span class=\"token punctuation\">.</span>xsd\"\n         version<span class=\"token operator\">=</span><span class=\"token string\">\"4.0\"</span>\n         metadata<span class=\"token operator\">-</span>complete<span class=\"token operator\">=</span><span class=\"token string\">\"true\"</span><span class=\"token operator\">></span>\n\n    <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>servlet<span class=\"token punctuation\">></span></span>\n        <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>image<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span><span class=\"token keyword\">class</span><span class=\"token operator\">></span>com<span class=\"token punctuation\">.</span>quan9i<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span>imageservlet<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span><span class=\"token keyword\">class</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span>servlet的请求路径<span class=\"token operator\">--</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>image<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span><span class=\"token operator\">/</span>img<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>web<span class=\"token operator\">-</span>app<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>请求后就会发现每隔几秒刷新一次验证码了<br><img src=\"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303130156137.png\" alt=\"在这里插入图片描述\"><br><img src=\"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303130156199.png\" alt=\"在这里插入图片描述\"><br><img src=\"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303130156250.png\" alt=\"在这里插入图片描述\"></p>\n<h2 id=\"请求重定向\"><a href=\"#请求重定向\" class=\"headerlink\" title=\"请求重定向\"></a>请求重定向</h2><p>请求重定向，即请求后重新定向到另一个路径下，具体实现代码如下。</p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">#sendservlet<span class=\"token punctuation\">.</span>java\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> sendservlet <span class=\"token keyword\">extends</span> <span class=\"token class-name\">HttpServlet</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">protected</span> <span class=\"token keyword\">void</span> <span class=\"token function\">doGet</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> req<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpServletResponse</span> resp<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ServletException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">IOException</span> <span class=\"token punctuation\">&#123;</span>\n        resp<span class=\"token punctuation\">.</span><span class=\"token function\">sendRedirect</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/r/img\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">protected</span> <span class=\"token keyword\">void</span> <span class=\"token function\">doPost</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> req<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpServletResponse</span> resp<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ServletException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">IOException</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token function\">doGet</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">,</span> resp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n#web<span class=\"token punctuation\">.</span>xml\n\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">?</span>xml version<span class=\"token operator\">=</span><span class=\"token string\">\"1.0\"</span> encoding<span class=\"token operator\">=</span><span class=\"token string\">\"UTF-8\"</span><span class=\"token operator\">?</span><span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>web<span class=\"token operator\">-</span>app xmlns<span class=\"token operator\">=</span><span class=\"token string\">\"http://xmlns.jcp.org/xml/ns/javaee\"</span>\n         xmlns<span class=\"token operator\">:</span>xsi<span class=\"token operator\">=</span><span class=\"token string\">\"http://www.w3.org/2001/XMLSchema-instance\"</span>\n         xsi<span class=\"token operator\">:</span>schemaLocation<span class=\"token operator\">=</span>\"http<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>xmlns<span class=\"token punctuation\">.</span>jcp<span class=\"token punctuation\">.</span>org<span class=\"token operator\">/</span>xml<span class=\"token operator\">/</span>ns<span class=\"token operator\">/</span>javaee\nhttp<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>xmlns<span class=\"token punctuation\">.</span>jcp<span class=\"token punctuation\">.</span>org<span class=\"token operator\">/</span>xml<span class=\"token operator\">/</span>ns<span class=\"token operator\">/</span>javaee<span class=\"token operator\">/</span>web<span class=\"token operator\">-</span>app_4_0<span class=\"token punctuation\">.</span>xsd\"\n         version<span class=\"token operator\">=</span><span class=\"token string\">\"4.0\"</span>\n         metadata<span class=\"token operator\">-</span>complete<span class=\"token operator\">=</span><span class=\"token string\">\"true\"</span><span class=\"token operator\">></span>\n\n    <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>servlet<span class=\"token punctuation\">></span></span>\n        <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>image<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span><span class=\"token keyword\">class</span><span class=\"token operator\">></span>com<span class=\"token punctuation\">.</span>quan9i<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span>imageservlet<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span><span class=\"token keyword\">class</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span>servlet的请求路径<span class=\"token operator\">--</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>image<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span><span class=\"token operator\">/</span>img<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span>\n\n    <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>servlet<span class=\"token punctuation\">></span></span>\n        <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>send<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span><span class=\"token keyword\">class</span><span class=\"token operator\">></span>com<span class=\"token punctuation\">.</span>quan9i<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span>sendservlet<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span><span class=\"token keyword\">class</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span>servlet的请求路径<span class=\"token operator\">--</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>send<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span><span class=\"token operator\">/</span>send<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>web<span class=\"token operator\">-</span>app<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303130156417.png\" alt=\"在这里插入图片描述\"><br>然后就是转发和重定向的区别</p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\"><span class=\"token number\">1</span>、请求转发url不变化，重定向url变化<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>简单重定向，示例代码</p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\"># index<span class=\"token punctuation\">.</span>jsp\n<span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>html<span class=\"token punctuation\">></span></span>\n<span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>body<span class=\"token punctuation\">></span></span>\n<span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>h2<span class=\"token punctuation\">></span></span><span class=\"token class-name\">Hel1o</span> <span class=\"token class-name\">World</span><span class=\"token operator\">!</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h2<span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">%</span><span class=\"token operator\">--</span>这里超交的路径<span class=\"token punctuation\">,</span>需要寻找到项目的路径<span class=\"token operator\">--</span><span class=\"token operator\">%</span><span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">%</span><span class=\"token operator\">--</span>$<span class=\"token punctuation\">&#123;</span>pageContext<span class=\"token punctuation\">.</span> request<span class=\"token punctuation\">,</span> contextPath<span class=\"token punctuation\">&#125;</span>代表当前的项目<span class=\"token operator\">--</span><span class=\"token operator\">%</span><span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>form action<span class=\"token operator\">=</span><span class=\"token string\">\"$&#123;pageContext. request.contextPath&#125;/login\"</span> method<span class=\"token operator\">=</span><span class=\"token string\">\"get\"</span><span class=\"token operator\">></span>\n    用户名<span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>input type<span class=\"token operator\">=</span><span class=\"token string\">\"text\"</span> name<span class=\"token operator\">=</span><span class=\"token string\">\"username\"</span><span class=\"token operator\">></span> <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>br<span class=\"token punctuation\">></span></span>\n    密码<span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>input type<span class=\"token operator\">=</span><span class=\"token string\">\"password\"</span> name<span class=\"token operator\">=</span><span class=\"token string\">\"password\"</span><span class=\"token operator\">></span> <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>br<span class=\"token punctuation\">></span></span>\n    <span class=\"token operator\">&lt;</span>input type<span class=\"token operator\">=</span><span class=\"token string\">\"submit\"</span><span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>form<span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>body<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>html<span class=\"token operator\">></span>\n\n\n#request<span class=\"token punctuation\">.</span>java\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> request <span class=\"token keyword\">extends</span> <span class=\"token class-name\">HttpServlet</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">protected</span> <span class=\"token keyword\">void</span> <span class=\"token function\">doGet</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> req<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpServletResponse</span> resp<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ServletException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">IOException</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token comment\">//处理方求</span>\n       <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"成功进入\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n# web<span class=\"token punctuation\">.</span>xml\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">?</span>xml version<span class=\"token operator\">=</span><span class=\"token string\">\"1.0\"</span> encoding<span class=\"token operator\">=</span><span class=\"token string\">\"UTF-8\"</span><span class=\"token operator\">?</span><span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>web<span class=\"token operator\">-</span>app xmlns<span class=\"token operator\">=</span><span class=\"token string\">\"http://xmlns.jcp.org/xml/ns/javaee\"</span>\n         xmlns<span class=\"token operator\">:</span>xsi<span class=\"token operator\">=</span><span class=\"token string\">\"http://www.w3.org/2001/XMLSchema-instance\"</span>\n         xsi<span class=\"token operator\">:</span>schemaLocation<span class=\"token operator\">=</span>\"http<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>xmlns<span class=\"token punctuation\">.</span>jcp<span class=\"token punctuation\">.</span>org<span class=\"token operator\">/</span>xml<span class=\"token operator\">/</span>ns<span class=\"token operator\">/</span>javaee\nhttp<span class=\"token operator\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>xmlns<span class=\"token punctuation\">.</span>jcp<span class=\"token punctuation\">.</span>org<span class=\"token operator\">/</span>xml<span class=\"token operator\">/</span>ns<span class=\"token operator\">/</span>javaee<span class=\"token operator\">/</span>web<span class=\"token operator\">-</span>app_4_0<span class=\"token punctuation\">.</span>xsd\"\n         version<span class=\"token operator\">=</span><span class=\"token string\">\"4.0\"</span>\n         metadata<span class=\"token operator\">-</span>complete<span class=\"token operator\">=</span><span class=\"token string\">\"true\"</span><span class=\"token operator\">></span>\n    <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>servlet<span class=\"token punctuation\">></span></span>\n        <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>req<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span><span class=\"token keyword\">class</span><span class=\"token operator\">></span>com<span class=\"token punctuation\">.</span>quan9i<span class=\"token punctuation\">.</span>servlet<span class=\"token punctuation\">.</span>request<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span><span class=\"token keyword\">class</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span>servlet的请求路径<span class=\"token operator\">--</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>req<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>name<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span><span class=\"token operator\">/</span>login<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>url<span class=\"token operator\">-</span>pattern<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>servlet<span class=\"token operator\">-</span>mapping<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>web<span class=\"token operator\">-</span>app<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303130156376.png\" alt=\"在这里插入图片描述\"><br><img src=\"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303130156556.png\" alt=\"在这里插入图片描述\"><br>这里的是空白的，那我们让他跳转到成功界面<br>实现代码如下</p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">#success<span class=\"token punctuation\">.</span>jsp\n\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">%</span>@ page contentType<span class=\"token operator\">=</span><span class=\"token string\">\"text/html;charset=UTF-8\"</span> language<span class=\"token operator\">=</span><span class=\"token string\">\"java\"</span> <span class=\"token operator\">%</span><span class=\"token operator\">></span>\n<span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>html<span class=\"token punctuation\">></span></span>\n<span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>head<span class=\"token punctuation\">></span></span>\n    <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>title<span class=\"token punctuation\">></span></span><span class=\"token class-name\">Title</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>title<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>head<span class=\"token operator\">></span>\n<span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>body<span class=\"token punctuation\">></span></span>\n<span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>h1<span class=\"token punctuation\">></span></span>success<span class=\"token operator\">!</span><span class=\"token operator\">!</span><span class=\"token operator\">!</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>body<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>html<span class=\"token operator\">></span>\n\n#web<span class=\"token punctuation\">.</span>xml同上\n#index<span class=\"token punctuation\">.</span>jsp同上\n#request<span class=\"token punctuation\">.</span>java\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> request <span class=\"token keyword\">extends</span> <span class=\"token class-name\">HttpServlet</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">protected</span> <span class=\"token keyword\">void</span> <span class=\"token function\">doGet</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> req<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpServletResponse</span> resp<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ServletException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">IOException</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token comment\">//处理方求</span>\n        <span class=\"token class-name\">String</span> username <span class=\"token operator\">=</span> req<span class=\"token punctuation\">.</span><span class=\"token function\">getParameter</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"username\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">String</span> password <span class=\"token operator\">=</span> req<span class=\"token punctuation\">.</span><span class=\"token function\">getParameter</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"password\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>username <span class=\"token operator\">+</span> <span class=\"token string\">\":\"</span> <span class=\"token operator\">+</span> password<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        resp<span class=\"token punctuation\">.</span><span class=\"token function\">sendRedirect</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/r/success.jsp\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>此时输入值后的效果是这样的<br><img src=\"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303130156646.png\" alt=\"在这里插入图片描述\"></p>\n<h2 id=\"Request应用\"><a href=\"#Request应用\" class=\"headerlink\" title=\"Request应用\"></a>Request应用</h2><p>获取前端参数的函数</p>\n<p><img src=\"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303130156679.png\" alt=\"在这里插入图片描述\"><br>我们这里通过设计一个前端代码获取参数同时进行转发，具体实现代码如下所示</p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">#request<span class=\"token punctuation\">.</span>java\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> request <span class=\"token keyword\">extends</span> <span class=\"token class-name\">HttpServlet</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">protected</span> <span class=\"token keyword\">void</span> <span class=\"token function\">doGet</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> req<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpServletResponse</span> resp<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ServletException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">IOException</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token comment\">// 解决后端接收中文乱码问题</span>\n        req<span class=\"token punctuation\">.</span><span class=\"token function\">setCharacterEncoding</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"utf-8\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        resp<span class=\"token punctuation\">.</span><span class=\"token function\">setCharacterEncoding</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"utf-8\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">String</span> username <span class=\"token operator\">=</span> req<span class=\"token punctuation\">.</span><span class=\"token function\">getParameter</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"username\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">String</span> password <span class=\"token operator\">=</span> req<span class=\"token punctuation\">.</span><span class=\"token function\">getParameter</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"password\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> hobbies <span class=\"token operator\">=</span> req<span class=\"token punctuation\">.</span><span class=\"token function\">getParameterValues</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hobbies\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"username:\"</span> <span class=\"token operator\">+</span> username <span class=\"token operator\">+</span> <span class=\"token string\">\",password:\"</span> <span class=\"token operator\">+</span> password <span class=\"token operator\">+</span> <span class=\"token string\">\",hobbies:\"</span> <span class=\"token operator\">+</span> <span class=\"token class-name\">Arrays</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span>hobbies<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// 通过请求转达</span>\n        req<span class=\"token punctuation\">.</span><span class=\"token function\">getRequestDispatcher</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/success.jsp\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forward</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">,</span> resp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">protected</span> <span class=\"token keyword\">void</span> <span class=\"token function\">doPost</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpServletRequest</span> req<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpServletResponse</span> resp<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">ServletException</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">IOException</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token function\">doGet</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">,</span>resp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n#web<span class=\"token punctuation\">.</span>xml同上\n#success<span class=\"token punctuation\">.</span>jsp同上\n#index<span class=\"token punctuation\">.</span>jsp\n<span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>html<span class=\"token punctuation\">></span></span>\n<span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>body<span class=\"token punctuation\">></span></span>\n<span class=\"token operator\">&lt;</span>div style<span class=\"token operator\">=</span><span class=\"token string\">\"text-align: center\"</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">%</span><span class=\"token operator\">--</span> 这里表单提交的意思，以 post 方式提交表单，提交到我们的 login 请求<span class=\"token operator\">--</span><span class=\"token operator\">%</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>form action<span class=\"token operator\">=</span><span class=\"token string\">\"$&#123;pageContext.request.contextPath&#125;/login\"</span> method<span class=\"token operator\">=</span><span class=\"token string\">\"post\"</span><span class=\"token operator\">></span>\n        用户名：<span class=\"token operator\">&lt;</span>input type<span class=\"token operator\">=</span><span class=\"token string\">\"text\"</span> name<span class=\"token operator\">=</span><span class=\"token string\">\"username\"</span><span class=\"token operator\">></span> <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>br<span class=\"token punctuation\">></span></span>\n        密码：<span class=\"token operator\">&lt;</span>input type<span class=\"token operator\">=</span><span class=\"token string\">\"password\"</span> name<span class=\"token operator\">=</span><span class=\"token string\">\"password\"</span><span class=\"token operator\">></span> <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>br<span class=\"token punctuation\">></span></span>\n        爱好：<span class=\"token operator\">&lt;</span>input type<span class=\"token operator\">=</span><span class=\"token string\">\"checkbox\"</span> name<span class=\"token operator\">=</span><span class=\"token string\">\"hobbies\"</span> value<span class=\"token operator\">=</span><span class=\"token string\">\"开心\"</span><span class=\"token operator\">></span>😀\n        <span class=\"token operator\">&lt;</span>input type<span class=\"token operator\">=</span><span class=\"token string\">\"checkbox\"</span> name<span class=\"token operator\">=</span><span class=\"token string\">\"hobbies\"</span> value<span class=\"token operator\">=</span><span class=\"token string\">\"流泪\"</span><span class=\"token operator\">></span>😭\n        <span class=\"token operator\">&lt;</span>input type<span class=\"token operator\">=</span><span class=\"token string\">\"checkbox\"</span> name<span class=\"token operator\">=</span><span class=\"token string\">\"hobbies\"</span> value<span class=\"token operator\">=</span><span class=\"token string\">\"研究\"</span><span class=\"token operator\">></span>🧐\n        <span class=\"token operator\">&lt;</span>input type<span class=\"token operator\">=</span><span class=\"token string\">\"checkbox\"</span> name<span class=\"token operator\">=</span><span class=\"token string\">\"hobbies\"</span> value<span class=\"token operator\">=</span><span class=\"token string\">\"调皮\"</span><span class=\"token operator\">></span>😝\n        <span class=\"token generics\"><span class=\"token punctuation\">&lt;</span>br<span class=\"token punctuation\">></span></span>\n        <span class=\"token operator\">&lt;</span>input type<span class=\"token operator\">=</span><span class=\"token string\">\"submit\"</span> value<span class=\"token operator\">=</span><span class=\"token string\">\"登录\"</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>form<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>body<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>html<span class=\"token operator\">></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>启动tomcat<br><img src=\"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303130156748.png\" alt=\"在这里插入图片描述\"><br>登录后</p>\n<p><img src=\"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303130156935.png\" alt=\"在这里插入图片描述\"><br>成功实现转发<br>在idea中也看到了输出信息<br><img src=\"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303130156319.png\" alt=\"在这里插入图片描述\"></p>\n","feature":true,"text":"准备工作有IDEA，有Tomcat（去网上找一下tomcat官方网站，下载9版本的即可，10版本的可能因为与IDEA版本不适而发生各种报错），有Maven，Idea虽然自带有Maven，但其功能还是有些受限，最好还是去官网下载一下Maven到本地而后导入到IDEA中 MavenM...","link":"","photos":[],"count_time":{"symbolsCount":"22k","symbolsTime":"20 mins."},"categories":[{"name":"JAVA","slug":"JAVA","count":10,"path":"api/categories/JAVA.json"}],"tags":[{"name":"语言学习","slug":"语言学习","count":3,"path":"api/tags/语言学习.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C\"><span class=\"toc-text\">准备工作</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Maven\"><span class=\"toc-text\">Maven</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Servlet\"><span class=\"toc-text\">Servlet</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Servlet%E5%8E%9F%E7%90%86\"><span class=\"toc-text\">Servlet原理</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Mapping%E9%97%AE%E9%A2%98\"><span class=\"toc-text\">Mapping问题</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#ServletContext\"><span class=\"toc-text\">ServletContext</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%85%B1%E4%BA%AB%E6%95%B0%E6%8D%AE\"><span class=\"toc-text\">共享数据</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%8E%B7%E5%8F%96%E5%88%9D%E5%A7%8B%E5%8C%96%E5%8F%82%E6%95%B0\"><span class=\"toc-text\">获取初始化参数</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%AF%B7%E6%B1%82%E8%BD%AC%E5%8F%91\"><span class=\"toc-text\">请求转发</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%AF%BB%E5%8F%96%E8%B5%84%E6%BA%90%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">读取资源文件</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Response\"><span class=\"toc-text\">Response</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">下载文件</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%AA%8C%E8%AF%81%E7%A0%81\"><span class=\"toc-text\">验证码</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%AF%B7%E6%B1%82%E9%87%8D%E5%AE%9A%E5%90%91\"><span class=\"toc-text\">请求重定向</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Request%E5%BA%94%E7%94%A8\"><span class=\"toc-text\">Request应用</span></a></li></ol></li></ol>","author":{"name":"quan9i","slug":"blog-author","avatar":"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303140010598.jpeg","link":"/","description":"国家一级保护废物","socials":{"github":"https://github.com/quan9i","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/Reme_mber","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"浅析PHP GC垃圾回收机制","uid":"6a30ccf7eba1a3b7e415165a3f83319a","slug":"浅析 PHP GC垃圾回收机制","date":"2022-11-15T13:20:20.000Z","updated":"2023-03-14T07:40:06.000Z","comments":true,"path":"api/articles/浅析 PHP GC垃圾回收机制.json","keywords":null,"cover":"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303141500019.png","text":"声明文章首发于先知社区https://xz.aliyun.com/t/11843 前言上周战队知识分享时，H3018大师傅讲了PHP GC回收机制的利用，学会了如何去绕过抛出异常。H3018大师傅讲述的很清楚，大家有兴趣的可以去看一下哇，链接如下https://www.bilib...","link":"","photos":[],"count_time":{"symbolsCount":"15k","symbolsTime":"14 mins."},"categories":[{"name":"WEB知识","slug":"WEB知识","count":23,"path":"api/categories/WEB知识.json"}],"tags":[{"name":"PHP","slug":"PHP","count":1,"path":"api/tags/PHP.json"}],"author":{"name":"quan9i","slug":"blog-author","avatar":"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303140010598.jpeg","link":"/","description":"国家一级保护废物","socials":{"github":"https://github.com/quan9i","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/Reme_mber","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"JAVA基础语法-学习笔记","uid":"a1b84c0190a37e192f2165ae5ca9a78a","slug":"JAVA基础语法-学习笔记","date":"2022-11-11T16:54:30.000Z","updated":"2023-04-25T11:33:06.000Z","comments":true,"path":"api/articles/JAVA基础语法-学习笔记.json","keywords":null,"cover":"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303141528659.jpeg","text":"day01文件运行过程首先呢，我们创一个后缀名为java的文件，而后写入内容其次，我们以管理员身份打开cmd，通过javac运行来得到class文件最后，通过java命令来将刚刚生成的clss文件运行这就是整个过程，图示如下图所示注：首先写的那个java文件称作源文件，通过jav...","link":"","photos":[],"count_time":{"symbolsCount":"35k","symbolsTime":"32 mins."},"categories":[{"name":"JAVA","slug":"JAVA","count":10,"path":"api/categories/JAVA.json"}],"tags":[{"name":"语言学习","slug":"语言学习","count":3,"path":"api/tags/语言学习.json"}],"author":{"name":"quan9i","slug":"blog-author","avatar":"https://quan9i.oss-cn-beijing.aliyuncs.com/img/202303140010598.jpeg","link":"/","description":"国家一级保护废物","socials":{"github":"https://github.com/quan9i","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/Reme_mber","juejin":"","customs":{}}},"feature":true}}